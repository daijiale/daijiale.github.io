
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>【OCR/机器学习】基于 Tesseract的字体搜索引擎 | DaiJiale&#39;s Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="Jiale Dai">
    

    
    <meta name="description" content="前言：这是一篇图像识别OCR技术、机器学习、以及简易搜索引擎构建相关的技术Blog，是自己在做毕设的同时，每天不断记录研究成果和心得的地方。">
<meta property="og:type" content="article">
<meta property="og:title" content="【OCR/机器学习】基于 Tesseract的字体搜索引擎">
<meta property="og:url" content="http://daijiale.github.io/2016/03/01/【OCR_机器学习】基于 Tesseract的字体搜索引擎/index.html">
<meta property="og:site_name" content="DaiJiale's Blog">
<meta property="og:description" content="前言：这是一篇图像识别OCR技术、机器学习、以及简易搜索引擎构建相关的技术Blog，是自己在做毕设的同时，每天不断记录研究成果和心得的地方。">
<meta property="og:image" content="http://7xi6qz.com1.z0.glb.clouddn.com/%E6%AF%95%E8%AE%BE%E5%AD%97%E4%BD%93%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E-%E7%94%A8%E4%BE%8B%E5%9B%BE%E5%88%9D%E7%A8%BF.png">
<meta property="og:image" content="http://7xi6qz.com1.z0.glb.clouddn.com/%E6%AF%95%E8%AE%BE%E5%AD%97%E4%BD%93%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E.png">
<meta property="og:image" content="http://7xi6qz.com1.z0.glb.clouddn.com/%E6%AF%95%E8%AE%BEtesseract%E5%AE%89%E8%A3%85.png">
<meta property="og:image" content="http://7xi6qz.com1.z0.glb.clouddn.com/%E6%AF%95%E8%AE%BEtesseract%E5%AE%89%E8%A3%852.png">
<meta property="og:image" content="http://7xi6qz.com1.z0.glb.clouddn.com/%E6%AF%95%E8%AE%BEtesseract%E5%AE%89%E8%A3%853.png">
<meta property="og:image" content="http://7xi6qz.com1.z0.glb.clouddn.com/%E6%AF%95%E8%AE%BEtess%E5%AE%89%E8%A3%854.png">
<meta property="og:image" content="http://7xi6qz.com1.z0.glb.clouddn.com/%E6%AF%95%E8%AE%BEocr-php-test.png">
<meta property="og:updated_time" content="2016-03-08T10:27:06.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="【OCR/机器学习】基于 Tesseract的字体搜索引擎">
<meta name="twitter:description" content="前言：这是一篇图像识别OCR技术、机器学习、以及简易搜索引擎构建相关的技术Blog，是自己在做毕设的同时，每天不断记录研究成果和心得的地方。">

    
    <link rel="alternative" href="/atom.xml" title="DaiJiale&#39;s Blog" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="DaiJiale&#39;s Blog" title="DaiJiale&#39;s Blog"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="DaiJiale&#39;s Blog">DaiJiale&#39;s Blog</a></h1>
				<h2 class="blog-motto">只有汗水不会欺骗你 || Only sweat will not fail you</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">首页</a></li>
					
						<li><a href="/archives">归档</a></li>
					
						<li><a href="/about">关于我</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:daijiale.github.io">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/03/01/【OCR_机器学习】基于 Tesseract的字体搜索引擎/" title="【OCR/机器学习】基于 Tesseract的字体搜索引擎" itemprop="url">【OCR/机器学习】基于 Tesseract的字体搜索引擎</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Jiale Dai" target="_blank" itemprop="author">Jiale Dai</a>
		
  <p class="article-time">
    <time datetime="2016-03-01T11:37:09.000Z" itemprop="datePublished"> 发表于 2016-03-01</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		
			<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#前言："><span class="toc-number">1.</span> <span class="toc-text">前言：</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#选题背景"><span class="toc-number">2.</span> <span class="toc-text">选题背景</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#需求分析"><span class="toc-number">3.</span> <span class="toc-text">需求分析</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#用例设计"><span class="toc-number">4.</span> <span class="toc-text">用例设计</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#应用领域"><span class="toc-number">5.</span> <span class="toc-text">应用领域</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#架构设计"><span class="toc-number">6.</span> <span class="toc-text">架构设计</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#技术点分析"><span class="toc-number">7.</span> <span class="toc-text">技术点分析</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#工程实现"><span class="toc-number">8.</span> <span class="toc-text">工程实现</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Tesseract-OCR中间件实现"><span class="toc-number">8.1.</span> <span class="toc-text">Tesseract-OCR中间件实现</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-先翻墙"><span class="toc-number">8.1.1.</span> <span class="toc-text">1.先翻墙</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-打开Mac_OS的终端，键入"><span class="toc-number">8.1.2.</span> <span class="toc-text">2.打开Mac OS的终端，键入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-如果未同意Xcode协议许可，需要先键入协议许可，同意。"><span class="toc-number">8.1.3.</span> <span class="toc-text">3.如果未同意Xcode协议许可，需要先键入协议许可，同意。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-继续使用Homebrew安装"><span class="toc-number">8.1.4.</span> <span class="toc-text">4.继续使用Homebrew安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-安装成功后，进行测试，看Tesseract能否在Mac_OS上正常运行,如下图所示。"><span class="toc-number">8.1.5.</span> <span class="toc-text">5.安装成功后，进行测试，看Tesseract能否在Mac OS上正常运行,如下图所示。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-这里解释下Tesseract终端下的用法："><span class="toc-number">8.1.6.</span> <span class="toc-text">6.这里解释下Tesseract终端下的用法：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-现在我们来使用测试一下，如下图"><span class="toc-number">8.1.7.</span> <span class="toc-text">7.现在我们来使用测试一下，如下图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-现在我们来建立字体库以及字体数据的训练"><span class="toc-number">8.1.8.</span> <span class="toc-text">8.现在我们来建立字体库以及字体数据的训练</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#字体库建立的官方原版说明："><span class="toc-number">8.1.8.1.</span> <span class="toc-text">字体库建立的官方原版说明：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#如何进行机器学习，训练自定义新数据："><span class="toc-number">8.1.8.2.</span> <span class="toc-text">如何进行机器学习，训练自定义新数据：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#实践过程："><span class="toc-number">8.1.8.3.</span> <span class="toc-text">实践过程：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#后端工程实现"><span class="toc-number">8.2.</span> <span class="toc-text">后端工程实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#搜索引擎中间件实现"><span class="toc-number">8.3.</span> <span class="toc-text">搜索引擎中间件实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#前端工程实现"><span class="toc-number">8.4.</span> <span class="toc-text">前端工程实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#移动端工程实现"><span class="toc-number">8.5.</span> <span class="toc-text">移动端工程实现</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#测试数据"><span class="toc-number">9.</span> <span class="toc-text">测试数据</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#心得体会"><span class="toc-number">10.</span> <span class="toc-text">心得体会</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#参考文献"><span class="toc-number">11.</span> <span class="toc-text">参考文献</span></a></li></ol>
		
		</div>
		
		<h1 id="前言：">前言：</h1><p>这是一篇图像识别OCR技术、机器学习、以及简易搜索引擎构建相关的技术Blog，是自己在做毕设的同时，每天不断记录研究成果和心得的地方。</p>
<a id="more"></a>
<h1 id="选题背景">选题背景</h1><p>OCR（Optical Character Recognition 光学字符识别）技术，是指电子设备（例如扫描仪或数码相机）检查纸上打印的字符，通过检测暗、亮的模式确定其形状，然后用字符识别方法将形状翻译成计算机文字的过程。 </p>
<p>Tesseract的OCR引擎最先由HP实验室于1985年开始研发，至1995年时已经成为OCR业内最准确的三款识别引擎之一。然而，HP不久便决定放弃OCR业务，Tesseract也从此尘封。<br>数年以后，HP意识到，与其将Tesseract束之高阁，不如贡献给开源软件业，让其重焕新生－－2005年，Tesseract由美国内华达州信息技术研究所获得，并求诸于Google对Tesseract进行改进、消除Bug、优化工作。 Tesseract目前已作为开源项目发布在Google Project，其最新版本3.0已经支持中文OCR。</p>
<p>在这样成熟的技术背景下，我很想利用这项OCR技术，再结合当下热门的移动互联网的开发技术和信息检索技术，实现一个能将陌生字体成功识别的移动端搜索引擎，帮助更多的设计工作者，旨在为他们工作时候能更加快捷、准确地获取字体信息。同时也希望字体创作者，能有一个很好的平台展示、上架自己的字体作品，帮助他们更好地推广行业风气和创作文化。</p>
<h1 id="需求分析">需求分析</h1><h1 id="用例设计">用例设计</h1><p><img src="http://7xi6qz.com1.z0.glb.clouddn.com/%E6%AF%95%E8%AE%BE%E5%AD%97%E4%BD%93%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E-%E7%94%A8%E4%BE%8B%E5%9B%BE%E5%88%9D%E7%A8%BF.png" alt=""></p>
<h1 id="应用领域">应用领域</h1><ul>
<li>纹身设计</li>
<li>海报设计</li>
<li>广告设计</li>
<li>网站版本设计</li>
<li>AppUI设计</li>
<li>考古发现</li>
</ul>
<h1 id="架构设计">架构设计</h1><p><img src="http://7xi6qz.com1.z0.glb.clouddn.com/%E6%AF%95%E8%AE%BE%E5%AD%97%E4%BD%93%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E.png" alt=""></p>
<h1 id="技术点分析">技术点分析</h1><h1 id="工程实现">工程实现</h1><h2 id="Tesseract-OCR中间件实现">Tesseract-OCR中间件实现</h2><h3 id="1-先翻墙">1.先翻墙</h3><h3 id="2-打开Mac_OS的终端，键入">2.打开Mac OS的终端，键入</h3><pre><code><span class="comment"><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install tesseract</span><br></pre></td></tr></table></figure></span>
</code></pre><h3 id="3-如果未同意Xcode协议许可，需要先键入协议许可，同意。">3.如果未同意Xcode协议许可，需要先键入协议许可，同意。</h3><pre><code><span class="comment"><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo xcodebuild -license&#10;&#10;...&#10;&#10;agree</span><br></pre></td></tr></table></figure></span>
</code></pre><p><img src="http://7xi6qz.com1.z0.glb.clouddn.com/%E6%AF%95%E8%AE%BEtesseract%E5%AE%89%E8%A3%85.png" alt=""></p>
<h3 id="4-继续使用Homebrew安装">4.继续使用Homebrew安装</h3><pre><code><span class="comment"><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install tesseract</span><br></pre></td></tr></table></figure></span>
</code></pre><p><img src="http://7xi6qz.com1.z0.glb.clouddn.com/%E6%AF%95%E8%AE%BEtesseract%E5%AE%89%E8%A3%852.png" alt=""></p>
<h3 id="5-安装成功后，进行测试，看Tesseract能否在Mac_OS上正常运行,如下图所示。">5.安装成功后，进行测试，看Tesseract能否在Mac OS上正常运行,如下图所示。</h3><p><img src="http://7xi6qz.com1.z0.glb.clouddn.com/%E6%AF%95%E8%AE%BEtesseract%E5%AE%89%E8%A3%853.png" alt=""></p>
<h3 id="6-这里解释下Tesseract终端下的用法：">6.这里解释下Tesseract终端下的用法：</h3><pre><code><span class="comment"><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#9;Usage:tesseract imagename outputbase [-l lang] [-psm pagesegmode] [configfile...]&#10;pagesegmode values are:&#10;0 = Orientation and script detection (OSD) only.&#10;1 = Automatic page segmentation with OSD.&#10;2 = Automatic page segmentation, but no OSD, or OCR&#10;3 = Fully automatic page segmentation, but no OSD. (Default)&#10;4 = Assume a single column of text of variable sizes.&#10;5 = Assume a single uniform block of vertically aligned text.&#10;6 = Assume a single uniform block of text.&#10;7 = Treat the image as a single text line.&#10;8 = Treat the image as a single word.&#10;9 = Treat the image as a single word in a circle.&#10;10 = Treat the image as a single character.&#10;-l lang and/or -psm pagesegmode must occur before anyconfigfile.</span><br></pre></td></tr></table></figure></span>
</code></pre><ul>
<li><p>其中：    </p>
  <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tesseract imagename outputbase [-l lang] [-psm pagesegmode] [configfile...]</span><br></pre></td></tr></table></figure>
<p> 表示 <code>tesseract    图片名  输出文件名 -l 字库文件 -psm pagesegmode 配置文件</code>。</p>
</li>
<li><p>例如：<code>tesseract code.jpg result  -l chi_sim -psm 7 nobatch</code></p>
<ul>
<li><code>-l chi_sim</code> 表示用简体中文字库（需要下载中文字库文件，解压后，存放到<code>tessdata</code>目录下去,字库文件扩展名为 <code>.raineddata</code>简体中文字库文件名为:  <code>chi_sim.traineddata</code>）。</li>
<li><code>-psm 7</code>表示告诉tesseract <code>code.jpg</code>图片是一行文本  这个参数可以减少识别错误率.  默认为 <code>3</code>。</li>
<li>configfile 参数值为tessdata\configs 和  tessdata\tessconfigs 目录下的文件名。</li>
</ul>
</li>
</ul>
<h3 id="7-现在我们来使用测试一下，如下图">7.现在我们来使用测试一下，如下图</h3><p><strong>英文字体测试：</strong><br><img src="http://7xi6qz.com1.z0.glb.clouddn.com/%E6%AF%95%E8%AE%BEtess%E5%AE%89%E8%A3%854.png" alt=""></p>
<p><strong>中文字体测试：</strong><br><img src="http://7xi6qz.com1.z0.glb.clouddn.com/%E6%AF%95%E8%AE%BEocr-php-test.png" alt=""></p>
<h3 id="8-现在我们来建立字体库以及字体数据的训练">8.现在我们来建立字体库以及字体数据的训练</h3><h4 id="字体库建立的官方原版说明：">字体库建立的官方原版说明：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">**font_properties (new in 3.01)**&#10;&#10;A new requirement for training in 3.01 is a font_properties file. The purpose of this file is to provide font style information that will appear in the output when the font is recognized. The font_properties file is a text file specified by the -F filename option to mftraining.&#10;&#10;Each line of the font_properties file is formatted as follows:&#10;&#10;&#60;fontname&#62; &#60;italic&#62; &#60;bold&#62; &#60;fixed&#62; &#60;serif&#62; &#60;fraktur&#62;&#10;where &#60;fontname&#62; is a string naming the font (no spaces allowed!), and &#60;italic&#62;, &#60;bold&#62;, &#60;fixed&#62;, &#60;serif&#62; and &#60;fraktur&#62; are all simple 0 or 1 flags indicating whether the font has the named property.&#10;&#10;When running mftraining, each .tr filename must match an entry in the font_properties file, or mftraining will abort. At some point, possibly before the release of 3.01, this matching requirement is likely to shift to the font name in the .tr file itself. The name of the .tr file may be either fontname.tr or [lang].[fontname].exp[num].tr.&#10;&#10;**Example:**&#10;&#10;font_properties file:&#10;&#10;timesitalic 1 0 0 1 0&#10;shapeclustering -F font_properties -U unicharset eng.timesitalic.exp0.tr&#10;mftraining -F font_properties -U unicharset -O eng.unicharset eng.timesitalic.exp0.tr &#10;Note that in 3.03, there is a default font_properties file, that covers 3000 fonts (not necessarily accurately) in training/langdata/font_properties.&#10;&#10;**Clustering**&#10;&#10;When the character features of all the training pages have been extracted, we need to cluster them to create the prototypes.&#10;&#10;The character shape features can be clustered using the shapeclustering, mftraining and cntraining programs:&#10;&#10;**shapeclustering (new in 3.02)**&#10;&#10;shapeclustering should not be used except for the Indic languages.&#10;&#10;shapeclustering -F font_properties -U unicharset lang.fontname.exp0.tr lang.fontname.exp1.tr ...&#10;shapeclustering creates a master shape table by shape clustering and writes it to a file named shapetable.&#10;&#10;**mftraining**&#10;&#10;mftraining -F font_properties -U unicharset -O lang.unicharset lang.fontname.exp0.tr lang.fontname.exp1.tr ...&#10;The -U file is the unicharset generated by unicharset_extractor above, and lang.unicharset is the output unicharset that will be given to combine_tessdata.&#10;&#10;mftraining will output two other data files: inttemp (the shape prototypes) and pffmtable (the number of expected features for each character). In versions 3.00/3.01, a third file called Microfeat is also written by this program, but it is not used. Later versions don&#39;t produce this file.&#10;&#10;NOTE: mftraining will produce a shapetable file if you didn&#39;t run shapeclustering. You must include this shapetable in your traineddata file, whether or not shapeclustering was used.&#10;&#10;**cntraining**&#10;&#10;cntraining lang.fontname.exp0.tr lang.fontname.exp1.tr ...&#10;This will output the normproto data file (the character normalization sensitivity prototypes).</span><br></pre></td></tr></table></figure>
<h4 id="如何进行机器学习，训练自定义新数据：">如何进行机器学习，训练自定义新数据：</h4><ul>
<li><a href="https://github.com/tesseract-ocr/tesseract/wiki/TrainingTesseract" target="_blank" rel="external">官方wiki</a></li>
</ul>
<ul>
<li><a href="http://wangjunle23.blog.163.com/blog/static/117838171201323031458171/" target="_blank" rel="external">中文指导</a></li>
</ul>
<h4 id="实践过程：">实践过程：</h4><ul>
<li>首先可以从Tesseract官方Github上下载官方的语言包进行参考：<a href="https://github.com/tesseract-ocr/tessdata" target="_blank" rel="external">传送门</a></li>
</ul>
<ul>
<li></li>
</ul>
<h2 id="后端工程实现">后端工程实现</h2><p>后端的架构，主要分为三块：Tesseract-OCR-PHP中间件，PHP图片传输中间件，PHP云检索中间件。</p>
<p>开源库：使用<a href="">Composer</a> 依赖 <a href="http://silex.sensiolabs.org/doc/intro.html" target="_blank" rel="external">Silex framework </a>、<a href="https://github.com/thiagoalessio/tesseract-ocr-for-php" target="_blank" rel="external">thiagoalessio</a></p>
<h2 id="搜索引擎中间件实现">搜索引擎中间件实现</h2><h2 id="前端工程实现">前端工程实现</h2><h2 id="移动端工程实现">移动端工程实现</h2><h1 id="测试数据">测试数据</h1><h1 id="心得体会">心得体会</h1><h1 id="参考文献">参考文献</h1><ul>
<li><a href="http://blog.csdn.net/viewcode/article/details/7917320" target="_blank" rel="external"> tesseract OCR的多语言，多字体字符识别</a></li>
<li><a href="http://linusp.github.io/2015/04/17/tesseract-install-usage.html" target="_blank" rel="external">Tesseract:安装与命令行使用</a></li>
<li><a href="https://liuzhichao.com/p/1940.html" target="_blank" rel="external">Mac下使用Vagrant打造本地开发环境</a></li>
<li><a href="http://www.codeceo.com/article/php-ocr-tesseract-get-text.html?url_type=39&amp;object_type=webpage&amp;pos=1" target="_blank" rel="external">PHP OCR实战：用Tesseract从图像中读取文字</a></li>
<li><a href="https://github.com/tesseract-ocr" target="_blank" rel="external">Github—Tesseract-OCR</a></li>
<li><a href="http://blog.csdn.net/firehood_/article/details/8433077" target="_blank" rel="external"> Tesseract-OCR 字符识别—-样本训练</a></li>
<li><a href="http://bbs.aardio.com/forum.php?mod=viewthread&amp;tid=12601" target="_blank" rel="external">开源图文识别引擎实现验证码识别 </a></li>
<li><a href="http://www.cnblogs.com/ShineTan/archive/2013/04/15/3021523.html" target="_blank" rel="external">Tesseract-OCR 3.02 训练笔记</a></li>
<li><a href="http://www.cnblogs.com/mjorcen/p/3799996.htm" target="_blank" rel="external">Tesseract 3 语言数据的训练方法</a></li>
<li><a href="http://www.cnblogs.com/mjorcen/p/3800739.html" target="_blank" rel="external">Tesseract 3.02中文字库训练</a></li>
<li><a href="http://holybless.iteye.com/blog/1338717" target="_blank" rel="external">Mac下Tesseract安装部署</a></li>
<li><a href="http://cdmd.cnki.com.cn/Article/CDMD-10561-1014065487.htm" target="_blank" rel="external">基于Tesseract-OCR的名片识别系统</a></li>
<li><a href="https://github.com/thiagoalessio/tesseract-ocr-for-php" target="_blank" rel="external">Github_Tesseract-OCR_For_PHP</a></li>
</ul>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/原创博文/">原创博文</a>►<a class="article-category-link" href="/categories/原创博文/自己的开源项目/">自己的开源项目</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/图像识别/">图像识别</a><a href="/tags/搜索引擎/">搜索引擎</a><a href="/tags/机器学习/">机器学习</a><a href="/tags/神经网络/">神经网络</a>
  </div>

</div>



	<div class="article-share" id="share">
	
	  <div data-url="http://daijiale.github.io/2016/03/01/【OCR_机器学习】基于 Tesseract的字体搜索引擎/" data-title="【OCR/机器学习】基于 Tesseract的字体搜索引擎 | DaiJiale&#39;s Blog" data-tsina="3173290371" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2016/03/08/【PHP】 Composer入门实践/" title="【PHP】Composer入门实践">
  <strong>上一篇：</strong><br/>
  <span>
  【PHP】Composer入门实践</span>
</a>
</div>


<div class="next">
<a href="/2016/02/19/【前端】以后前端妹子再问你页面为何加载慢，请告诉她这几个套路/"  title="【前端】以后前端妹子再问你页面为何加载慢，请告诉她这几个套路">
 <strong>下一篇：</strong><br/> 
 <span>【前端】以后前端妹子再问你页面为何加载慢，请告诉她这几个套路
</span>
</a>
</div>

</nav>

	
<section id="comments" class="comment">
	<div class="ds-thread" data-thread-key="2016/03/01/【OCR_机器学习】基于 Tesseract的字体搜索引擎/" data-title="【OCR/机器学习】基于 Tesseract的字体搜索引擎" data-url="http://daijiale.github.io/2016/03/01/【OCR_机器学习】基于 Tesseract的字体搜索引擎/"></div>
</section>


</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
 
 <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#前言："><span class="toc-number">1.</span> <span class="toc-text">前言：</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#选题背景"><span class="toc-number">2.</span> <span class="toc-text">选题背景</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#需求分析"><span class="toc-number">3.</span> <span class="toc-text">需求分析</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#用例设计"><span class="toc-number">4.</span> <span class="toc-text">用例设计</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#应用领域"><span class="toc-number">5.</span> <span class="toc-text">应用领域</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#架构设计"><span class="toc-number">6.</span> <span class="toc-text">架构设计</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#技术点分析"><span class="toc-number">7.</span> <span class="toc-text">技术点分析</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#工程实现"><span class="toc-number">8.</span> <span class="toc-text">工程实现</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Tesseract-OCR中间件实现"><span class="toc-number">8.1.</span> <span class="toc-text">Tesseract-OCR中间件实现</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-先翻墙"><span class="toc-number">8.1.1.</span> <span class="toc-text">1.先翻墙</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-打开Mac_OS的终端，键入"><span class="toc-number">8.1.2.</span> <span class="toc-text">2.打开Mac OS的终端，键入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-如果未同意Xcode协议许可，需要先键入协议许可，同意。"><span class="toc-number">8.1.3.</span> <span class="toc-text">3.如果未同意Xcode协议许可，需要先键入协议许可，同意。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-继续使用Homebrew安装"><span class="toc-number">8.1.4.</span> <span class="toc-text">4.继续使用Homebrew安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-安装成功后，进行测试，看Tesseract能否在Mac_OS上正常运行,如下图所示。"><span class="toc-number">8.1.5.</span> <span class="toc-text">5.安装成功后，进行测试，看Tesseract能否在Mac OS上正常运行,如下图所示。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-这里解释下Tesseract终端下的用法："><span class="toc-number">8.1.6.</span> <span class="toc-text">6.这里解释下Tesseract终端下的用法：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-现在我们来使用测试一下，如下图"><span class="toc-number">8.1.7.</span> <span class="toc-text">7.现在我们来使用测试一下，如下图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-现在我们来建立字体库以及字体数据的训练"><span class="toc-number">8.1.8.</span> <span class="toc-text">8.现在我们来建立字体库以及字体数据的训练</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#字体库建立的官方原版说明："><span class="toc-number">8.1.8.1.</span> <span class="toc-text">字体库建立的官方原版说明：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#如何进行机器学习，训练自定义新数据："><span class="toc-number">8.1.8.2.</span> <span class="toc-text">如何进行机器学习，训练自定义新数据：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#实践过程："><span class="toc-number">8.1.8.3.</span> <span class="toc-text">实践过程：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#后端工程实现"><span class="toc-number">8.2.</span> <span class="toc-text">后端工程实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#搜索引擎中间件实现"><span class="toc-number">8.3.</span> <span class="toc-text">搜索引擎中间件实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#前端工程实现"><span class="toc-number">8.4.</span> <span class="toc-text">前端工程实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#移动端工程实现"><span class="toc-number">8.5.</span> <span class="toc-text">移动端工程实现</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#测试数据"><span class="toc-number">9.</span> <span class="toc-text">测试数据</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#心得体会"><span class="toc-number">10.</span> <span class="toc-text">心得体会</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#参考文献"><span class="toc-number">11.</span> <span class="toc-text">参考文献</span></a></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/原创博文/Android开发笔记/" title="Android开发笔记">Android开发笔记<sup>6</sup></a></li>
		  
		
		  
			<li><a href="/categories/转载博文/Web开发分享/" title="Web开发分享">Web开发分享<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/原创博文/Web开发笔记/" title="Web开发笔记">Web开发笔记<sup>14</sup></a></li>
		  
		
		  
			<li><a href="/categories/原创博文/关于舞蹈/" title="关于舞蹈">关于舞蹈<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/原创博文/单反自学笔记/" title="单反自学笔记">单反自学笔记<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/原创博文/" title="原创博文">原创博文<sup>27</sup></a></li>
		  
		
		  
			<li><a href="/categories/原创博文/自己的开源项目/" title="自己的开源项目">自己的开源项目<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/转载博文/" title="转载博文">转载博文<sup>4</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/个人故事/" title="个人故事">个人故事<sup>8</sup></a></li>
			
		
			
				<li><a href="/tags/Android/" title="Android">Android<sup>6</sup></a></li>
			
		
			
				<li><a href="/tags/PHP/" title="PHP">PHP<sup>6</sup></a></li>
			
		
			
				<li><a href="/tags/Javascript/" title="Javascript">Javascript<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/html5/" title="html5">html5<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/Node-js/" title="Node.js">Node.js<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/数据库/" title="数据库">数据库<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/poppin/" title="poppin">poppin<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Amaze-UI/" title="Amaze UI">Amaze UI<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/智能可穿戴/" title="智能可穿戴">智能可穿戴<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/拍照摄影/" title="拍照摄影">拍照摄影<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/前端性能优化/" title="前端性能优化">前端性能优化<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/街舞/" title="街舞">街舞<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/前端自动化工具/" title="前端自动化工具">前端自动化工具<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Ajax/" title="Ajax">Ajax<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/程序猿素养/" title="程序猿素养">程序猿素养<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/工具神器/" title="工具神器">工具神器<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/git/" title="git">git<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/代码托管/" title="代码托管">代码托管<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Hexo/" title="Hexo">Hexo<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="http://www.daijiale.cn" target="_blank" title="DaiJiale的个人简历页">DaiJiale的个人站点</a>
            
          </li>
        
          <li>
            
            	<a href="http://c2pblog.sinaapp.com/" target="_blank" title="Baiduer刘神的Blog">LiuKaiNing的Blog</a>
            
          </li>
        
          <li>
            
            	<a href="http://www.linzhihao.cn" target="_blank" title="我师父的Blog">MasterLin的Blog</a>
            
          </li>
        
          <li>
            
            	<a href="http://charles-xiao.github.io/" target="_blank" title="好友肖勇Blog">CharlesXiao的Blog</a>
            
          </li>
        
          <li>
            
            	<a href="http://lizhuolun.com/" target="_blank" title="好友卓伦Blog">lizhuolun的Blog</a>
            
          </li>
        
          <li>
            
            	<a href="http://leuisken.github.io/index.html" target="_blank" title="学弟嘉讯Blog">leuisken的Blog</a>
            
          </li>
        
          <li>
            
            	<a href="http://www.php-note.com/" target="_blank" title="神一样的PHPer">钱途无梁的PHP-Note</a>
            
          </li>
        
          <li>
            
            	<a href="http://stormzhang.com/" target="_blank" title="偶像的Blog（Android_CN OG级人物）">StormZhang的Blog</a>
            
          </li>
        
          <li>
            
            	<a href="http://wuchong.me/" target="_blank" title="jacman原创博主">Jark&#39;s Blog</a>
            
          </li>
        
          <li>
            
            	<a href="http://www.developerclub.cn" target="_blank" title="博主自己独立开发的：一个面向电子科技大学开发者的网上社区">电子科技大学开发者俱乐部</a>
            
          </li>
        
          <li>
            
            	<a href="http://uestc.xyz" target="_blank" title="一个面向电子科技大学Linux开发者的社区">电子科技大学Linux开源社区</a>
            
          </li>
        
          <li>
            
            	<a href="http://blog.newstacksoft.com/" target="_blank" title="2016届百度新人交流社区贡献者">NewBaiduer2016社区</a>
            
          </li>
        
          <li>
            
            	<a href="https://coderq.com" target="_blank" title="一个面向程序员交流分享的新一代社区">码农圈</a>
            
          </li>
        
          <li>
            
            	<a href="http://tongji.cnzz.com/main.php?c=site&a=show&siteid=1254856612" target="_blank" title=" 站点数据统计">站长统计</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m Jiale Dai in UESTC. <br/>
			Welcome To My World.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/3173290371" target="_blank" class="icon-weibo" title="微博"></a>
		
		
		<a href="https://github.com/daijiale" target="_blank" class="icon-github" title="github"></a>
		
		
		
		
		
		
		
		<a href="https://www.zhihu.com/people/dai-jia-le-35" target="_blank" class="icon-zhihu" title="知乎"></a>
		
		
		
		<a href="mailto:daijiale6239@gmail.com" target="_blank" class="icon-email" title="Email Me"></a>
		
	</div>
			
		

		<p class="copyright">
		Powered by Hexo and Theme Rebuilt From Jacman By</a> © 2016 
		
		<a href="http://www.daijiale.cn">Jiale Dai</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
        getSize();
        if (myWidth >= 1024) {
          c.click();
        }
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#nothing"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});     
</script>



<script type="text/javascript">
  var duoshuoQuery = {short_name:"daijiale"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 







<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->





<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1254856612'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s23.cnzz.com/z_stat.php%3Fid%3D1254856612' type='text/javascript'%3E%3C/script%3E"));</script>

<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
